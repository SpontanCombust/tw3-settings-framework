# Class specification


## [ISettingsGroup](../modSettingsFramework/content/scripts/local/settings_group.ws)
Abstract base class which is an analogue to settings groups in XML. Child classes generated by the parser store settings variables.

### Public member constants
- `id: name` - value of the id attribute for the group in the XML.
- `defaultPresetIndex: int` - value of the default preset used by the given group. By default it's 0. To see how to instruct the CLI to deduce default presets refer to [CLI specification](cli_specification.md).

### Public member functions
- `Init(parent_: ISettingsMaster) : void` - used internally.
- `Reset(presetIndex: int) : void` - applies a preset with given id. Automatically updates settings class to reflect this.
- `ResetToDefault() : void` - calls Reset() with defaultPresetIndex.


## [`ISettingsMaster`](../modSettingsFramework/content/scripts/local/settings_master.ws)
Abstract base class for the settings class generated by the parser. The child class generated by the parser stores instances of classes extending ISettingsGroup. The class generated by the parser can be extended further to provide custom reactionary behaviour for its methods.

### Public member constants
- `modVersion: string` - arbitrary version string that can be passed during parsing.

### Public member functions
- `Init() : void` - initializes settings groups, reads data from config and optionally resets this data to default if your mod has just been installed.
- `ReadSettings() : void` - reads the data from game's configuration into your settings object.
- `WriteSettings() : void` - writes the data from your settings object into game's configuration.
- `ValidateSettings(): void` - checks all fields in the settings object and corrects their values so they adhere to the limits set in the XML, e.g. if the value of a variable corresponding to a slider config is within the correct range.
- `ResetSettingsToDefault() : void` - applies default presets to all groups.
- `ShouldResetSettingsToDefaultOnInit() : bool` - a condition telling the class whether it should use ResetSettingsToDefault on Init. By default it checks whether GetVarValue() for a random (in reality the first one) var from the xml returns "".
- `ReadSettingValue(config: CInGameConfigWrapper, groupId: name, varId: name) : string` - method used by ReadSettings to retrieve values from game config. By default it used CInGameConfigWrapper directly.
- `WriteSettingValue(config: CInGameConfigWrapper, groupId: name, varId: name, value: string) : void` - method used by WriteSettings to write values into game config. By default it used CInGameConfigWrapper directly.
- `ResetSettingValues(config: CInGameConfigWrapper, groupId: name, presetIndex: int) : void` - method used by ISettingsGroup's Reset method to apply a preset. By default it used CInGameConfigWrapper directly.
